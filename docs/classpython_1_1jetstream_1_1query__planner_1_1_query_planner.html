<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>JetStream: python.jetstream.query_planner.QueryPlanner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JetStream
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepython.html">python</a></li><li class="navelem"><a class="el" href="namespacepython_1_1jetstream.html">jetstream</a></li><li class="navelem"><a class="el" href="namespacepython_1_1jetstream_1_1query__planner.html">query_planner</a></li><li class="navelem"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html">QueryPlanner</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">python.jetstream.query_planner.QueryPlanner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for python.jetstream.query_planner.QueryPlanner:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.png" usemap="#python.jetstream.query_planner.QueryPlanner_map" alt=""/>
  <map id="python.jetstream.query_planner.QueryPlanner_map" name="python.jetstream.query_planner.QueryPlanner_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a70a260e37b286175867a92227fe64606"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a70a260e37b286175867a92227fe64606">__init__</a></td></tr>
<tr class="separator:a70a260e37b286175867a92227fe64606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83010df54eff230c403a7b38a5c480ee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a83010df54eff230c403a7b38a5c480ee">take_raw_topo</a></td></tr>
<tr class="separator:a83010df54eff230c403a7b38a5c480ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1be0c1fba1d7bb0b16c64802b1553d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#ac1be0c1fba1d7bb0b16c64802b1553d5">validate_raw_topo</a></td></tr>
<tr class="separator:ac1be0c1fba1d7bb0b16c64802b1553d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad57a8dca1c7c2e0a235eef571c0ddb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a0ad57a8dca1c7c2e0a235eef571c0ddb">get_assignments</a></td></tr>
<tr class="separator:a0ad57a8dca1c7c2e0a235eef571c0ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a09e55dfc9bee6c16d9b0e831f5eb7e0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a09e55dfc9bee6c16d9b0e831f5eb7e0e">workerLocs</a></td></tr>
<tr class="separator:a09e55dfc9bee6c16d9b0e831f5eb7e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbddea0bb49449d22d77a8daee87b7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a7dbddea0bb49449d22d77a8daee87b7e">alter</a></td></tr>
<tr class="separator:a7dbddea0bb49449d22d77a8daee87b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7067bc97ce36fb105345d3c85304356b"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpython_1_1jetstream_1_1query__planner_1_1_query_planner.html#a7067bc97ce36fb105345d3c85304356b">CUBE_NAME_PAT</a> = re.compile(&quot;([0-9]+/)?[a-zA-Z0-9_]+$&quot;)</td></tr>
<tr class="separator:a7067bc97ce36fb105345d3c85304356b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Stages of computation compilation:

There's the raw AlterTopo from the client.  Call this the original plan.

There's turning multi-node location specifiers (e.g. "on all nodes") into actual
node IDs. The client can do this.  Call the result an expanded plan.

This plan can be optimized. This involves replacing groups of operators with
equivalent groups, pushing operators back (towards sources) for partial aggregation,
converting logical operators into physical operators (sometimes adding operators),
and others.  Call the result an optmized plan.

There's placement.  Call the result a placed plan.  This can still include logical
operators that don't map exactly to physical operators.

Last, there's putting in assorted plumbing.  Call the result a concrete computation
plan.  This must only have concrete physical operators. It will be cut up and sent
to the relevant dataplane nodes for execution according to above placement.

Validation can happen at several points. Typechecking and suchlike can happen on the
expanded plan.
</pre> 
<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00025">25</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a70a260e37b286175867a92227fe64606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def python.jetstream.query_planner.QueryPlanner.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dataplaneEps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00049">49</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0ad57a8dca1c7c2e0a235eef571c0ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def python.jetstream.query_planner.QueryPlanner.get_assignments </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a set of assignments for this computation.
Takes the computation ID to use for this computation.
Returns a map from worker ID to WorkerAssignment
</pre> 
<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00123">123</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<a class="anchor" id="a83010df54eff230c403a7b38a5c480ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def python.jetstream.query_planner.QueryPlanner.take_raw_topo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>altertopo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Takes the client's plan, validates, and fills in host names.
For now, we only allow real host names from the client, so this is purely a validation phase.
Returns a string on error.
</pre> 
<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00055">55</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<a class="anchor" id="ac1be0c1fba1d7bb0b16c64802b1553d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def python.jetstream.query_planner.QueryPlanner.validate_raw_topo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>altertopo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Validates a topology. Should return an empty string if valid, else an error message.</pre> 
<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00069">69</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7dbddea0bb49449d22d77a8daee87b7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">python.jetstream.query_planner.QueryPlanner.alter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00064">64</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<a class="anchor" id="a7067bc97ce36fb105345d3c85304356b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple python.jetstream.query_planner.QueryPlanner.CUBE_NAME_PAT = re.compile(&quot;([0-9]+/)?[a-zA-Z0-9_]+$&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00068">68</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<a class="anchor" id="a09e55dfc9bee6c16d9b0e831f5eb7e0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">python.jetstream.query_planner.QueryPlanner.workerLocs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="query__planner_8py_source.html#l00051">51</a> of file <a class="el" href="query__planner_8py_source.html">query_planner.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/jetstream/src/python/jetstream/<a class="el" href="query__planner_8py_source.html">query_planner.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 8 2017 22:48:54 for JetStream by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
